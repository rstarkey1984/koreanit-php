# 🕸️ 웹(Web)이란 무엇인가?

### **웹(Web)** 은 "**월드 와이드 웹(WWW, World Wide Web)**"의 줄임말로,
### 인터넷을 통해 사람들이 정보를 **주고받고 공유**할 수 있는 **정보시스템** 입니다.

-   **인터넷(Internet)** : 전 세계의 컴퓨터가 연결된 네트워크
-   **웹(Web)** : 그 인터넷 위에서 작동하는 여러 서비스 중 하나
    → 이메일, 파일전송(FTP), 원격접속(SSH) 같은 다른 서비스와
    구별됩니다.

-  우리가 주로 사용하는 **유튜브**, **블로그** 같은 웹사이트와 웹개발에서 널리 쓰이는 API 서비스 (REST, GraphQL 등) 가 웹의 한 형태입니다.

## 1. 웹의 기본 구조 (클라이언트-서버 모델)

웹은 **클라이언트(Client)** 와 **서버(Server)** 의 상호작용으로
작동합니다.\
이를 **클라이언트-서버 모델(Client-Server Model)** 이라고 합니다.

![클라이언트-서버 모델](https://lh3.googleusercontent.com/d/1WLg2EsUfIrPKtyEdvk1Oh6E98hp-KI3v)

### 💻 클라이언트(Client)

-   웹 브라우저(Chrome, Edge, Safari 등)를 사용하는 **사용자** 소프트웨어 또는 컴퓨터
-   서버에 정보를 **요청(request)** 하는 역할
-   예: "구글 홈페이지를 열어줘!"

### 🖥 서버(Server)

-   웹페이지나 데이터를 **저장하고 제공**하는 소프트웨어 또는 컴퓨터
-   클라이언트의 요청에 **응답(response)** 하여 결과를 보냄
-   예: "여기 구글 메인 HTML을 보냅니다!"


## 2. 브라우저에서 www.google.com 을 입력했을 때의 전체 흐름

### 1️⃣ URL 입력과 주소 해석

사용자가 브라우저 주소창에 `www.google.com` 을 입력하면,  
브라우저는 이것이 **도메인 이름**이라는 것을 인식합니다.

> `www.google.com` = 사람이 읽기 쉬운 이름 (도메인)  
> IP 주소 예: `142.250.206.132` (컴퓨터가 이해하는 실제 주소)
  
IP 주소는 기억하기 어렵기 때문에, 사람이 읽기 쉬운 문자 형태의 주소로 만든 것이 바로 도메인입니다.


### 2️⃣ DNS 조회 (Domain Name System)

브라우저는 이 도메인 이름이 어떤 **IP 주소**인지 알아내기 위해  
**DNS 서버**에 질의(Query)를 보냅니다.

조회 순서:

1. 브라우저(크롬,엣지,사파리 등) 캐시  
2. 운영체제(윈도우,리눅스 등) 캐시  
3. ISP(통신사)의 DNS 서버  
4. 루트 DNS 서버 ( Root Name Server ) → .com 서버 ( TLD 네임서버 ) → google.com 네임서버 ( Authoritative(권한) 네임서버 )

    결과적으로 Authoritative(권한) 네임서버에 저장된 IP 주소가 불러와집니다.
    ```
    www.google.com → 142.250.206.196
    ```

    - 대표적인 권한 네임서버 서비스 하는곳 : AWS Route 53, Google Cloud DNS, KISA 네임서버 등

### 3️⃣ TCP 연결 (3-way Handshake)

브라우저는 해당 IP 주소의 서버와 통신하기 위해 **TCP 연결**을 만듭니다.  
이는 다음 3단계로 이루어집니다:

```
1. 클라이언트 → 서버 : 연결을 시작하고 싶어요 = SYN
2. 서버 → 클라이언트 : 나도 준비됐어요 (요청 확인 + 응답) = SYN + ACK 
클라이언트 → 서버 : 확인했습니다. 이제 데이터 주고받아요! = ACK
```

이 과정을 **3-way handshake** 라고 합니다.
- SYN = Synchronize : “연결을 시작하자” — TCP 시퀀스 번호 초기화용
- ACK = Acknowledge : “잘 받았어” — 상대의 요청이나 데이터 수신 확인

### 4️⃣ HTTPS 보안 연결 (TLS Handshake)

구글은 HTTPS(보안 프로토콜)을 사용하므로,  
TCP 연결 후 **TLS(SSL) 암호화 연결**이 추가로 설정됩니다.

- 서버가 인증서(SSL Certificate)를 보냄  
- 클라이언트에 저장되어 있는 인증서로 유효성 검증 (CA 서명 확인)  
- 양쪽이 암호 키를 교환해 **보안 채널** 생성

    🔒 이후 통신은 모두 암호화되어 주고받습니다 

### 5️⃣ HTTP 요청 전송 (Request)

3-way Handshake 와 TLS Handshake 끝이나면 브라우저는 서버로 요청을 합니다.

클라이언트 요청 예시:
```
<!-- 요청 라인 (Request Line) -->
GET / HTTP/1.1
<!-- 요청 헤더 (Request Headers) 시작 -->
Host: www.google.com
Connection: keep-alive
User-Agent: Chrome/129.0 - 
Accept: text/html,application/xhtml+xml
Accept-Language: ko-KR
Cookie: sessionid=abcd1234
Authorization: Bearer eyJhbGciOiJI...
<!-- 요청 헤더 (Request Headers) 끝 -->

<!-- 본문(Body) 시작 -->  ← (POST나 PUT일 때만 존재)
username=student01&password=1234
<!-- 본문(Body) 끝 -->
```

- 요청 라인 (Request Line) : 요청의 첫 줄로, 어떤 행동을 할지와 대상 주소를 알려줍니다.
    |항목|의미|
    |------|---|
    |GET|요청 메서드 (행동)|
    |/|요청할 리소스(경로)|
    |HTTP/1.1|프로토콜 버전|

- 요청 헤더 (Request Headers) : 클라이언트(브라우저나 앱)가 자신의 환경, 요청 세부 정보, 인증 정보 등을 보냅니다. 서버는 이걸 보고 “누가, 어떻게 요청했는지” 판단합니다.

    |헤더|설명|
    |------|---|
    |Host|	요청 대상 도메인 이름 (www.google.com)|
    |Connection| keep-alive 면 TCP 연결을 한 번 맺은 후, 여러 HTTP 요청을 같은 연결로 재사용하겠다는 뜻|
    |User-Agent	|클라이언트 종류 (브라우저, OS 정보 등)|
    |Accept	|클라이언트가 받을 수 있는 콘텐츠 형식|
    |Accept-Language|	선호하는 언어|
    |Referer	|이전 페이지 URL (어디서 왔는지)|
    |Cookie|세션이나 로그인 정보|
    |Authorization|	인증 토큰 또는 자격 증명|
    |Content-Type|(POST 요청 시) 보낸 데이터 형식 (예: application/json)|


- 본문 (Body) : 
    |메서드|설명|
    |------|---|
    |GET | 보통 없음. |
    |POST / PUT / PATCH | 데이터가 본문에 담겨서 전송 (예: username=student01&password=1234 )|

### 6️⃣ 서버의 응답 (Response)

서버 응답 예시:
```
<!-- 응답 라인 ( Response Line ) -->
HTTP/1.1 200 OK 
<!-- 응답 헤더 ( Response Line ) 시작 -->
Content-Type: text/html
Content-Length: 1234
Connection: keep-alive
Keep-Alive: timeout=5, max=100
<!-- 응답 헤더 ( Response Line ) 끝 -->

<!-- 본문(Body) 시작 -->
<html>
  <body>
    <h1>Hello, world!</h1>
  </body>
</html>
<!-- 본문(Body) 끝 -->
```
- 응답 라인 ( Response Line ) : 서버가 클라이언트의 요청을 처리한 후, 그 결과를 처음 한 줄에 요약해서 보내는 부분입니다.
    |항목|설명|
    |---|---|
    |HTTP/1.1	|사용 중인 프로토콜 버전|
    |	200|	요청 처리 결과를 나타내는 숫자|
    |	OK	|상태코드의 의미를 사람이 읽기 쉽게 표현|

- 응답 헤더 ( Response Header )

    |헤더|	설명|
    |---|---|
    |Content-Type|응답 데이터 형식|
    |Content-Length|데이터 길이|
    |Connection| keep-alive	라면 연결을 유지하겠다는 뜻 (서버도 동의)|
    |Keep-Alive| timeout=5, max=100	옵션 헤더 — 얼마나 유지할지 조건 지정|
    |timeout|	연결을 몇 초 동안 유지할지 (예: 5초 동안 다음 요청 기다림)|
    |max|	한 연결에서 몇 개의 요청까지 처리할지 제한|

- 본분 (Body) : 본문에는 **HTML 코드**가 담겨 있습니다. 


### 7️⃣ 렌더링(Rendering)

브라우저는 받은 HTML을 파싱하여 DOM(Document Object Model)을 만들고, CSS를 적용해 스타일을 입히고 JS를 실행시켜 동적 기능을 구현합니다.


위와 같은 이 과정을 통해 **화면에 구글 홈페이지가 표시됩니다.**

--- 

## 요약정리

단계별로 간단히 정리하자면 다음과 같습니다.

| 단계 | 이름 | 설명 |
|------|------|------|
| 1 | URL 입력 | 도메인 이름을 인식 |
| 2 | DNS 조회 | 도메인을 IP 주소로 변환 |
| 3 | TCP 연결 | 서버와 통신 채널 생성 (3-way handshake) |
| 4 | TLS 설정 | 보안 연결 (HTTPS) |
| 5 | HTTP 요청 | 서버에 페이지 요청 |
| 6 | HTTP 응답 | 서버가 HTML/CSS/JS 반환 |
| 7 | 렌더링 | 브라우저가 화면 구성 |

> 브라우저 주소창에 URL을 입력하는 단순한 행위는  
> 사실상 수십 개의 네트워크, 보안, 프로토콜 과정이 순식간에 일어나는 결과입니다.


## 🔍 크롬 개발자 도구로 확인하기

**Network 탭**에서 다음을 직접 볼 수 있습니다:

- 첫 요청: `GET https://www.google.com/`  
- 응답: `200 OK`  
- Type: `document`  
- Size, Time, Content-Type 등  
- 그리고 연속된 여러 요청들 (script, style, image, fonts...)

